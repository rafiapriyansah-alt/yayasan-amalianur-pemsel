 //test-user-add.js
const testAddUser = async () => {
  const response = await fetch('http://localhost:3000/api/users/add', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json',
    },
    body: JSON.stringify({
      email: 'test@example.com',
      full_name: 'Test User',
      role: 'editor',
      actor: 'Test Script'
    })
  });

  console.log('Status:', response.status);
  console.log('Headers:', Object.fromEntries(response.headers));
  
  const text = await response.text();
  console.log('Raw response:', text);
  
  try {
    const data = JSON.parse(text);
    console.log('Parsed JSON:', data);
  } catch (e) {
    console.log('Not JSON:', e.message);
  }
};

testAddUser();